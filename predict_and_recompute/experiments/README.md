# New communication hiding conjugate gradient variants

This folder contains materials to help reproduce the results of:

    @article{chen_19,
        Author = {Tyler Chen},
        Title = {New communication hiding conjugate gradient variants},
        Howpublished = {In progress},
        Year = {2019}
    }

An extended introduction to this paper can be found [here](http://chen.pw/research/publications/chen_19.html).

## Instructions
All figures and table data can be generated by navigating to the `experiments` folder, and running `figure_gen.py`.

Generating plots for new figures is easy. 
Simply add `.mtx` files to the `matrices` folder, and add update the `matrices` list in `figure_gen.py` accordingly. 
While I have tested a range of problems from the matrix market, it is quite possible that there are problems on which the variants from this paper do not work better than previously known communication hiding variants. 
I would be very interested in finding such problems.


## Notes
You will need Python 3.6 or higher as I use f-strings (although you could replace these with other string types for backward compatibility).

Note that while many experiments should run almost instantly on a laptop, there are a few experiments which require a high number of iterations and may take several hours to complete.
The code is fairly modular, so you can test a single variant on a single matrix, and then regenerate the corresponding figure.
This makes it easier to verify the convergence of a single variant, as you will not have to run all of the variants.

Github has a filesize limit of 100mb.
As such, I was not able to upload the matrix `s3dkq4m2`. It can be downloaded from the matrix market](https://math.nist.gov/MatrixMarket/data/misc/cylshell/s3dkq4m2.html).


## Repository contents

This folder is roughly structured as follows:

- `experiments` : ipython notebooks and python scripts for generated numerical experiments
    - `data` : raw convergence data and table summary statisitcs
    - `figures` : convergence plots for all numerical experiments, and compiled table summary statistics
- `cg_variants` : implementations of various conjugate gradient variants
- `callbacks` : some available callback functions to use with implemented variants to gather convergence data
- `matrices` : test matrices
